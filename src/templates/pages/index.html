{% extends 'layouts/main.html' %}
{% block title %}Home{% endblock %}
{% block content %}



<div class="second_row bg-success 
container-fluid mx-auto" style="bottom:0px;"
  style="height: 100%;" >
  <div class="row" style="height: 100%;">
      













      <div class="col bg-info pr-2" 
      style="height: auto" style="height: 100%;">
        <h2 class="" 
        style="color:black;font-weight:
        bold;font-size: 400%;list-style: none;">
        <b>Products</b></h2>
        <hr>


<!--name, price-->

<div id="list_of_products" class="container-fluid m-0">







<!--

<div class="card mb-4" style="">
  <div class="card-body">
    <h5 class="card-title" 
    style="font-weight: bold; font-size: 150%;">Card title</h5>
    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
    <div class="d-flex"><a href="#" class="ml-auto btn btn-outline-success">
      <svg width="40" height="40" 
fill="currentColor" class="bi bi-arrow-right" 
viewBox="0 0 16 16">
  <path fill-rule="evenodd" 
  d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>
</svg>

</a>
    </div>
  </div>
</div>


-->



        
      </div>
  </div>


</div>

</div>





<script type="text/javascript">

/*
  add_element_to_list(product_name ="Labtop",
    product_price=500, product_id = 1);
  add_element_to_list(product_name ="CPU",
    product_price=5, product_id = 2);
  add_element_to_list(product_name ="Mobile",
    product_price=50, product_id = 3);
*/

  

  function add_element_to_list(
    product_name = "Title",product_price =5, product_id = 1)
  {
    var d1 = document.getElementById('list_of_products');
  d1.insertAdjacentHTML('beforeend', 
    create_list_text(product_name =product_name 
      ,product_price =product_price, product_id =product_id ));
  }


  function create_list_text(product_name = "Title",
   product_price =5, product_id = 1)
  {
    return '<div class="card mb-4">'+
  '<div class="card-body">'+
    '<h5 class="card-title"'+
    'style="font-weight: bold; font-size: 150%;">'+
    product_name+'</h5>'+
    '<p class="card-text">Price : <b>'+
    product_price+'</b></p>'+
    '<div class="d-flex"><a target="_blank" class="stretched-link ml-auto btn btn-outline-success " href="product?id='
    +product_id+'"'+ 
    'class="">'+right_arrow_svg+'</a>'+
    '</div>'+
  '</div>'+
  '</div>'
  }




</script>

<script type="text/javascript">

get_products().then(function(value) 
  {build_products_cards(value);});

var data_example = {
    "products": [
        {
            "id": 1,
            "in_stock": true,
            "name": "Labtop",
            "price": 300.0,
            "seller_id": 1
        },
        {
            "id": 3,
            "in_stock": true,
            "name": "Candy",
            "price": 0.5,
            "seller_id": 3
        },
        {
            "id": 5,
            "in_stock": true,
            "name": "Keyboard",
            "price": 5.0,
            "seller_id": 2
        },
        {
            "id": 6,
            "in_stock": true,
            "name": "Mouse",
            "price": 4.0,
            "seller_id": 1
        }
    ],
    "success": true
}


//console.log(data_example["products"])

function build_products_cards(input_array){
  document.getElementById('list_of_products').innerHTML="";
  for (product_index in input_array["products"]) {
    var product = input_array["products"][product_index];
    //console.log( product );
    add_element_to_list(
      product_name = product["name"],
      product_price =product["price"], 
      product_id = product["id"]);
  }
}
//build_products_cards(data_example);




</script>




{% endblock %}